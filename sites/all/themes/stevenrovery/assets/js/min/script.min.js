!function(a){angular.module("app",["ngRoute","ngSanitize","btford.markdown","ngAnimate"])}(bootstrap),function(){"use strict";var a=angular.module("app");a.animation(".site__main",["$rootScope","$location","$timeout","$q",function(a,b,c,d){var e,f;return f=_.contains(b.path().split("/"),"philosophy"),a.$on("$locationChangeStart",function(b,c,d){var g=c.split("/");f=_.contains(d.split("/"),"philosophy"),e=_.contains(g,"philosophy"),f&&e&&(a.animationAux=null),f||(a.animationAux="pending"),f&&!e&&(a.animationAux="pending")}),a.$on("$viewContentLoaded",function(a){}),{enter:function(b,g){var h=jQuery(b).find(".project-row__image");if(f&&e&&(a.animationAux=null),f||b.parent().height(0),f&&!e&&b.parent().height(0),0!==h.length){var i=_.size(h),j=0,k=d.defer();_.each(h,function(a){jQuery(a).on("load",function(){j+=1,j===i&&k.resolve(b[0].offsetHeight)})}),k.promise.then(function(d){c(function(){b.parent().height(d),a.animationAux=null},500)})}else{var l=b[0].offsetHeight;c(function(){b.parent().height(l),a.animationAux=null},500)}},leave:function(a,b){a.height(0),b()}}}])}(),function(a){"use strict";var b=angular.module("app");b.config(["$routeProvider","$locationProvider",function(b,c){b.when("/",{templateUrl:a.tplsPath+"/home.html",controller:"HomeCtrl",resolve:{page:["Resolver",function(a){return a.get("/")}]}}).when("/philosophy",{templateUrl:a.tplsPath+"/philosophy.html",controller:"PhilCtrl",resolve:{page:["$routeParams","Resolver",function(a,b){return b.get("/philosophy")}]}}).when("/philosophy/:name",{reloadOnSearch:!1,templateUrl:a.tplsPath+"/philosophy.html",controller:"PhilCtrl",resolve:{page:["$routeParams","Resolver",function(a,b){return b.get("/philosophy")}]}}).when("/resume",{templateUrl:a.tplsPath+"/resume.html",controller:"ResumeCtrl",resolve:{page:["Resolver",function(a){return a.get("/resume")}]}}).when("/design",{templateUrl:a.tplsPath+"/projects.html",controller:"ProjectsCtrl",resolve:{page:["Resolver",function(a){return a.getProjects("/design")}]}}).when("/ux",{templateUrl:a.tplsPath+"/projects.html",controller:"ProjectsCtrl",resolve:{page:["Resolver",function(a){return a.getProjects("/ux")}]}}).when("/ux/:name",{templateUrl:a.tplsPath+"/project.html",controller:"ProjectCtrl",resolve:{page:["Resolver","$route",function(a,b){return a.getProject("/ux/"+b.current.params.name)}],project:["$route",function(b){return _.find(a.views.ux.ux_projects,function(a){return a.alias==="ux/"+b.current.params.name})}],data:[function(){return{total_projects:_.size(a.views.ux.ux_projects),base:"ux",view_name:"ux_projects"}}]}}).when("/design/:name",{templateUrl:a.tplsPath+"/project.html",controller:"ProjectCtrl",resolve:{page:["Resolver","$route",function(a,b){return a.getProject("/design/"+b.current.params.name)}],project:["$route",function(b){return _.find(a.views.design.design_projects,function(a){return a.alias==="design/"+b.current.params.name})}],data:[function(){return{total_projects:_.size(a.views.design.design_projects),base:"design",view_name:"design_projects"}}]}}).when("/home",{redirectTo:"/"}).otherwise({redirectTo:"doesn't exist"}),c.html5Mode(!0).hashPrefix("!")}]),b.run(["$rootScope","$location","$window",function(a,b,c){a.$on("$locationChangeStart",function(a,b){var d=b.split("/");(_.contains(d,"admin")||_.contains(d,"admin_menu")||_.contains(d,"extras"))&&(c.location.href=b)})}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.controller("HomeCtrl",["$scope","page",function(a,b){a.setSiteTitle("Home"),a.setNid(b.nid),a.outputHtml=b.body.safe_value}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.controller("MainCtrl",["$scope","$rootScope","$timeout",function(b,c,d){c.siteTitle=a.siteTitle,c.siteName=a.siteTitle,b.setSiteTitle=function(b){c.siteTitle=a.siteTitle+" | "+b},b.contactBlurb=a.contactInfo.blurb,b.contactEmail=a.contactInfo.email,b.contactPhone=a.contactInfo.phone,b.links=a.menu.links,b.getNid=function(b){return _.find(a.menu.links,function(a){return a.path===b}).nid},b.getProjectNid=function(b,c,d){return _.find(a.views[b][c],function(a){return a.alias===b+"/"+d})},b.getNeighbourProject=function(b,c,d){return _.find(a.views[b][c],function(a){return a.pos===d})},b.setNid=function(a){b.nid=a},b.setPageTitle=function(a){b.page_title=a},b.$on("$routeChangeStart",function(){b.viewLoading=!0}),b.$on("$routeChangeSuccess",function(){d(function(){b.viewLoading=!1},1e3)})}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.controller("PhilCtrl",["$scope","$routeParams","page",function(a,b,c){var d=c,e=b.name||null,f=d.collections_fields,g=_.size(f),h=d.collections_fields,i=1,j={},k=0,l=0;a.slider_philosophy=e,a.setNid(d.nid),a.setSiteTitle(d.title),a.setPageTitle(d.title),a.slider=_.map(f,function(a){return a.id=i,i+=1,a}),_.each(h,function(a){k%3===0?l+=1:l=l,j[l]=j[l]||{},j[l][k]=a,k+=1}),a.phil_groups=j,a.compareToName=function(a){return e?e.toLowerCase()===a.toLowerCase():!0},a.getPrevSlide=function(b){return b-1===0?_.where(a.slider,{id:g}):_.where(a.slider,{id:b-1})},a.getNextSlide=function(b){return b+1>g?_.where(a.slider,{id:1}):_.where(a.slider,{id:b+1})}}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.controller("ProjectCtrl",["$scope","page","project","data",function(b,c,d,e){var f=c.custom_fields,g=c.collections_fields,h=e.base,i=e.view_name,j=e.total_projects;b.setSiteTitle(c.title),b.setPageTitle(f.field_tags.taxonomy_term.name),d.pos-1!==0?b.prevProject=b.getNeighbourProject(h,i,d.pos-1):b.prevProject=b.getNeighbourProject(h,i,j),d.pos+1>j?b.nextProject=b.getNeighbourProject(h,i,1):b.nextProject=b.getNeighbourProject(h,i,d.pos+1),b.project_title=c.title,b.role=f.field_role.value,b.tag=f.field_tags.taxonomy_term.name,b.rows=g;var k=a.views[h][i],l={},m=0,n=0;_.each(k,function(a){m%3===0?n+=1:n=n,l[n]=l[n]||{},l[n][m]=a,m+=1}),b.base=h,b.groups=l,b.projects=k}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.controller("ProjectsCtrl",["$scope","page",function(a,b){var c=b.nid,d=null;a.setSiteTitle(b.title),a.setNid(c),d=b.views?b.views.design_projects||b.views.ux_projects:null;var e={},f=0,g=0;_.each(d,function(a){f%3===0?g+=1:g=g,e[g]=e[g]||{},e[g][f]=a,f+=1}),a.groups=e,a.projects=d,a.setPageTitle(b.title)}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.controller("ResumeCtrl",["$scope","page",function(a,b){var c=b.composed_fields,d=b.custom_fields,e=b.nid;a.setSiteTitle(b.title),a.setPageTitle(b.title),a.setNid(e),a.experience=c.field_experience,a.schools=c.field_education,a.awards=c.field_awards,a.resume=d.field_resume,a.arbitrary_links=c.field_arbitrary_links}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.directive("siteNav",function(){return{restrict:"E",replace:!0,templateUrl:a.tplsPath+"/site-nav.html",controller:["$location","$scope",function(a,b){b.changePage=function(a,b){}}]}}),b.directive("resize",["$window","$rootScope",function(a,b){return function(c){a.innerWidth<=700?b.mobile=a.innerWidth:b.mobile=null,a.innerWidth>700&&a.innerWidth<960?b.tablet=a.innerWidth:b.tablet=null,angular.element(a).bind("resize",function(){a.innerWidth<=700?b.mobile=a.innerWidth:b.mobile=null,a.innerWidth>700&&a.innerWidth<960?b.tablet=a.innerWidth:b.tablet=null,c.$apply()})}}]),b.directive("viewParent",["$window",function(a){function b(b,c,d){c.height(0),d.$observe("viewParent",function(a){"pending"===a&&c.height(0)}),angular.element(a).bind("resize",function(){var a=c.children();c.height(a[0].offsetHeight)})}return{restrict:"A",replace:!0,compile:function(a){return b}}}])}(bootstrap),function(a){"use strict";var b=angular.module("app");b.filter("unsafe",function(a){return function(b){return a.trustAsHtml(b)}})}(bootstrap),function(a){"use strict";var b=angular.module("app");b.service("Resolver",["$http","$q","$timeout","$rootScope",function(b,c,d,e){return this.get=function(d){var e,f=c.defer();return e=_.find(a.menu.links,function(a){return a.path===d}).nid,e===a.node.nid?(f.resolve(a.node),f.promise):(b.get("/api/node/"+e,{cache:!0}).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}),f.promise)},this.getProjects=function(b){var c=_.find(a.menu.links,function(a){return a.path===b}).nid,d={};return d.views={},d.nid=c,"/design"===b&&(d.title="Design",d.views=a.views.design),"/ux"===b&&(d.title="Ux",d.views=a.views.ux),d},this.getProject=function(d){var e,f=c.defer(),g=d,h=g.split("/")[1],i=h+"_projects",j=g.split("/")[2];return e=_.find(a.views[h][i],function(a){return a.alias===h+"/"+j}).nid,e===a.node.nid?(f.resolve(a.node),f.promise):(b.get("/api/node/"+e,{cache:!0}).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}),f.promise)},this}])}(bootstrap);